<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <title>Url Shortener</title>
</head>


<body>
   


            <div class="container">
                <h1> <center>URL Shortener</center></h1>
               
                <form action="/url" method="POST" class="my-4 form-inline">
                    <label for="Enter Your Original URL" class="sr-only">Url</label>
                    <input placeholder="https://example.com" type="url" name="url" id="fullUrl"
                        class="form-control col mr-2">
                    <button class="btn btn-primary" type="submit">Generate</button>
                </form>

                <% if (locals.urls) { %>

                <table class="table table-striped table-responsive">
                    <thead>
                        <tr>
                            <th>S. NO</th>
                            <th>ShortID</th>
                            <th>RedirectURL</th>
                            <th>Clicks</th>
                            <th> Full URL To Visit</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% urls.forEach((url,index)=> { %>

                            <tr>
                                <td>
                                    <%= index+1 %>
                                </td>
                                <td>
                                    <%= url.shortId %>
                                </td>
                                <td>
                                    <%= url.redirectURL %>
                                </td>
                                <td>
                                    <%= url.visitHistory.length %>
                                </td>
                                <td> http://localhost:8000/url/<%= url.shortId %> </td>
                            </tr>

                            <% }) %>
                    </tbody>
                </table>

                <% } %>

            </div>


</body>

</html>